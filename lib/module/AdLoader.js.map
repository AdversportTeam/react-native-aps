{"version":3,"sources":["AdLoader.ts"],"names":["AdError","RNAPSAdLoaderModule","validateAdLoaderOptions","AdLoader","loadAd","adLoaderOptions","e","Error","message","_nativeModule","error","userInfo","fromNativeError"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,OAAT,QAAwB,WAAxB;AACA,OAAOC,mBAAP,MAAgC,2BAAhC;AACA,SAEEC,uBAFF,QAGO,yBAHP;AAKA;AACA;AACA;;AACA,OAAO,MAAMC,QAAN,CAAe;AAGpB;AACF;AACA;AACA;AACA;AACA;AACA;AACqB,eAANC,MAAM,CACjBC,eADiB,EAEmB;AACpC,QAAI;AACFH,MAAAA,uBAAuB,CAACG,eAAD,CAAvB;AACD,KAFD,CAEE,OAAOC,CAAP,EAAU;AACV,UAAIA,CAAC,YAAYC,KAAjB,EAAwB;AACtB,cAAM,IAAIA,KAAJ,CAAW,sBAAqBD,CAAC,CAACE,OAAQ,EAA1C,CAAN;AACD;AACF;;AAED,QAAI;AACF,aAAO,MAAML,QAAQ,CAACM,aAAT,CAAuBL,MAAvB,CAA8BC,eAA9B,CAAb;AACD,KAFD,CAEE,OAAOK,KAAP,EAAc;AACd,UAAKA,KAAD,CAAeC,QAAnB,EAA6B;AAC3B,cAAMX,OAAO,CAACY,eAAR,CAAwBF,KAAxB,CAAN;AACD,OAFD,MAEO;AACL,cAAMA,KAAN;AACD;AACF;AACF;;AA9BmB;;gBAATP,Q,mBACoBF,mB","sourcesContent":["/*\n * Copyright (c) 2022-present Adversport & Contributors\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { AdError } from './AdError';\nimport RNAPSAdLoaderModule from './internal/AdLoaderModule';\nimport {\n  AdLoaderOptions,\n  validateAdLoaderOptions,\n} from './types/AdLoaderOptions';\n\n/**\n * @public\n */\nexport class AdLoader {\n  private static _nativeModule = RNAPSAdLoaderModule;\n\n  /**\n   * Request APS for a bid. Only a single ad size and slotUUID is supported per bid request.\n   * @param adLoaderOptions - `AdLoaderOptions` object used to configure the bid request.\n   * @returns Key value pairs of returned bid response.\n   *\n   * @public\n   */\n  static async loadAd(\n    adLoaderOptions: AdLoaderOptions\n  ): Promise<{ [key: string]: string }> {\n    try {\n      validateAdLoaderOptions(adLoaderOptions);\n    } catch (e) {\n      if (e instanceof Error) {\n        throw new Error(`AdLoader.loadAd(*) ${e.message}`);\n      }\n    }\n\n    try {\n      return await AdLoader._nativeModule.loadAd(adLoaderOptions);\n    } catch (error) {\n      if ((error as any).userInfo) {\n        throw AdError.fromNativeError(error);\n      } else {\n        throw error;\n      }\n    }\n  }\n}\n"]}